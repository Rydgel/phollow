---
date: '2011-11-01 20:12:51'
layout: post
slug: homebrew-un-gestionnaire-de-paquet-pour-mac-osx
status: publish
title: Homebrew, un gestionnaire de paquet pour Mac OS/X
wordpress_id: '3670'
categories:
- apple
- logiciel libre
tags:
- homebrew
- mac
- osx
- package manager
- ruby
---

<img style="margin-top:0; margin-bottom: 20px;" src="http://s3-eu-west-1.amazonaws.com/phollow/2011/11/formula.png" alt="" title="formula" width="700" height="300" class="alignnone size-full wp-image-3677">
<p>Quand on a pris la <strong>bonne</strong> habitude de travailler sous un environnement Unix, il y a certains outils qui vous manquent <em>cruellement</em> quand on se retrouve par exemple sur Mac OS/X. Ce système d’exploitation ne possède pas de gestionnaire de paquet comme <span class="code">apt-get</span> sous Debian ou <span class="code">yum</span> sous CentOS. Il existe heureusement des solutions, comme par exemple <strong>Macports</strong>. J’en avais parlé <a href="http://phollow.fr/2009/08/les-macports/" title="Macports">sur ce billet</a> il y a quelques temps déjà.</p>
<p>Aujourd’hui j’utilise un autre gestionnaire de paquet s'appelant <strong>Homebrew</strong>. Il se veut plus simple que Macports et diffère un peu dans sa manière de faire. Pour faire simple Homebrew va toujours essayer d'utiliser les librairies déjà sur le système pour compiler nos paquets. Cette manière de procéder possède des avantages et des inconvénients. L'avantage c'est que pour compiler un paquet, on ne va pas devoir compiler X librairies avant. L'inconvénient c'est que nos exécutables risquent grandement de planter après une mise à jour de l’OS ; les librairies de Mac OS/X étant mises à jour.</p>
<p>C'est donc un choix à faire. Et j’ai choisit Homebrew car je n'ai pas non plus 50 paquets à maintenir, une vingtaine tout au plus, et je ne mets pas mon système d’exploitation à jour tous les quatre matins.</p>
<h3>Pré-requis</h3>
<p>Il faut savoir que par défaut il n’y a pas les outils de compilation dans Mac OS/X. Alors on va devoir installer <span class="code">gcc</span> et ses potes, et ça se fait <em>simplement</em> en installant <a href="http://itunes.apple.com/us/app/xcode/id448457090" title="Xcode" target="_blank">Xcode</a>. Pour certains paquets vous allez peut-être avoir besoin du « Java Developer Update ». On peut trouver ce qu’il faut sur <a href="https://developer.apple.com/downloads/index.action" title="Mac - Java Developer Update" target="_blank">cette page</a>.</p>
<h3>Installation</h3>
<p>L'installation à proprement parler du gestionnaire de paquets peut maintenant commencer. Homebrew est écrit en <strong>Ruby</strong> et son script d’installation aussi.</p>
<pre><code>/usr/bin/ruby -e "$(curl -fsSL https://raw.github.com/gist/323731)"</code></pre>
<p>Il va faire son <em>nid</em> dans <span class="code">/usr/local</span>, ce qui nous permettra d’installer des paquets sans passer par <strong>sudo</strong>. De plus cet endroit est assez indépendant du système, on pourra donc facilement tout enlever si besoin. Il est bien sûr toujours possible de mettre tout ça ailleurs si vous préférez.</p>
<h3>Et ensuite on peut RTFM</h3>
<figure><p><img style="margin-top:0;" src="http://s3-eu-west-1.amazonaws.com/phollow/2011/11/RTFM.jpg" alt="" title="RTFM" width="700" height="464" class="alignnone size-full wp-image-3704" /></p><figcaption>J'admets avoir la flemme de tout vous expliquer, mais franchement il suffit de lire.</figcaption><figure>
<p>Pour avoir la liste complète de ce qu’il est possible d’installer, on peut se rendre sur GitHub, sur <a href="https://github.com/mxcl/homebrew/tree/master/Library/Formula/" title="Homebrew Formula List" target="_blank">cette page</a>. À savoir que vous pouvez créer vos propres formules et la proposer à la communauté si vous voyez un manque. Homebrew m’a servi pour installer quelques paquets toujours pratiques comme <span class="code">git</span>, <span class="code">ffmpeg</span>, <span class="code">x264</span>, <span class="code">mongodb</span>, <span class="code">redis</span>, <span class="code">htop</span>, <span class="code">wget</span>…
<p><a href="http://mxcl.github.com/homebrew/" title="Homebrew" target="_blank">Site web de Homebrew</a>.</p>