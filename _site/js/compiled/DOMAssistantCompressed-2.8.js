// Developed by Robert Nyman/DOMAssistant team, code/licensing: http://domassistant.googlecode.com/, documentation: http://www.domassistant.com/documentation, version 2.8
var DOMAssistant=function(){var e=function(){},t=window,n=t.$,r=t.$$,i=!1,s=i&&parseFloat(navigator.appVersion)<6,o,u={},a={},f=!0,l=Array.prototype.slice,c={accesskey:"accessKey","class":"className",colspan:"colSpan","for":"htmlFor",maxlength:"maxLength",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",valign:"vAlign",cellspacing:"cellSpacing",cellpadding:"cellPadding"},h={rules:/\s*,\s*/g,selector:/^(\w+|\*)?(#[\w\u00C0-\uFFFF\-=$]+)?((\.[\w\u00C0-\uFFFF\-]+)*)?((\[\w+\s*([~^$*|])?(=\s*([-\w\u00C0-\uFFFF\s.]+|"[^"]*"|'[^']*'))?\]+)*)?((:\w[-\w]*(\((odd|even|\-?\d*n?([-+]\d+)?|[:#]?[-\w\u00C0-\uFFFF.]+|"[^"]*"|'[^']*'|((\w*\.[-\w\u00C0-\uFFFF]+)*)?|(\[#?\w+([~^$*|])?=?[-\w\u00C0-\uFFFF\s.'"]+\]+)|(:\w[-\w]*\(.+\)))\))?)*)?([+>~])?/,selectorSplit:/(?:\[.*\]|\(.*\)|[^\s+>~[(])+|[+>~]/g,id:/^#([-\w\u00C0-\uFFFF=$]+)$/,tag:/^\w+/,relation:/^[+>~]$/,pseudo:/^:(\w[-\w]*)(\((.+)\))?$/,pseudos:/:(\w[-\w]*)(\((([^(]+)|([^(]+\([^(]+)\))\))?/g,attribs:/\[(\w+)\s*([~^$*|])?(=)?\s*([^\[\]]*|"[^"]*"|'[^']*')?\](?=$|\[|:|\s)/g,classes:/\.([-\w\u00C0-\uFFFF]+)/g,quoted:/^["'](.*)["']$/,nth:/^((odd|even)|([1-9]\d*)|((([1-9]\d*)?)n([-+]\d+)?)|(-(([1-9]\d*)?)n\+(\d+)))$/,special:/(:check|:enabl|\bselect)ed\b/},p=function(e,t,n){var r=e.tagName;while((e=e[t+"Sibling"])&&(e.nodeType!==1||(n?e.tagName!==r:e.tagName==="!")));return e},d=function(e){return typeof e!="undefined"},v=function(e){return(v=e[0].compareDocumentPosition?function(e){return e.sort(function(e,t){return 3-(e.compareDocumentPosition(t)&6)})}:i?function(e){return e.sort(function(e,t){return e.sourceIndex-t.sourceIndex})}:function(e){return e.sort(function(e,t){var n=document.createRange(),r=document.createRange();return n.setStart(e,0),n.setEnd(e,0),r.setStart(t,0),r.setEnd(t,0),n.compareBoundaryPoints(Range.START_TO_END,r)})})(e)},m=function(e,t){return e.push.apply(e,l.apply(t)),e};return i&&(m=function(e,t){if(t.slice)return e.concat(t);var n=0,r;while(r=t[n++])e[e.length]=r;return e}),{isIE:i,camel:c,def:d,allMethods:[],publicMethods:["prev","next","hasChild","cssSelect","elmsByClass","elmsByAttribute","elmsByTag"],harmonize:function(){return t.$=n,t.$$=r,this},initCore:function(){this.applyMethod.call(t,"$",this.$),this.applyMethod.call(t,"$$",this.$$),t.DOMAssistant=this,i&&(e=Array),e.prototype=[],function(t){t.each=function(e,t){for(var n=0,r=this.length;n<r;n++)if(e.call(t||this[n],this[n],n,this)===!1)break;return this},t.first=function(){return d(this[0])?DOMAssistant.addMethodsToElm(this[0]):null},t.end=function(){return this.previousSet},t.indexOf=t.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},t.map=function(e,t){var n=[];for(var r=0,i=this.length;r<i;r++)r in this&&(n[r]=e.call(t||this[r],this[r],r,this));return n},t.filter=function(t,n){var r=new e;r.previousSet=this;for(var i=0,s=this.length;i<s;i++)i in this&&t.call(n||this[i],this[i],i,this)&&r.push(this[i]);return r},t.every=function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&!e.call(t||this[n],this[n],n,this))return!1;return!0},t.some=function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&e.call(t||this[n],this[n],n,this))return!0;return!1}}(e.prototype),this.attach(this)},addMethods:function(e,t){d(this.allMethods[e])||(this.allMethods[e]=t,this.addHTMLArrayPrototype(e,t))},addMethodsToElm:function(e){for(var t in this.allMethods)d(this.allMethods[t])&&this.applyMethod.call(e,t,this.allMethods[t]);return e},applyMethod:function(e,t){typeof this[e]!="function"&&(this[e]=t)},attach:function(e){var t=e.publicMethods;if(!d(t))for(var n in e)n!=="init"&&d(e[n])&&this.addMethods(n,e[n]);else if(t.constructor===Array)for(var r=0,i;i=t[r];r++)this.addMethods(i,e[i]);typeof e.init=="function"&&e.init()},addHTMLArrayPrototype:function(t,n){e.prototype[t]=function(){var t=new e;t.previousSet=this;for(var r=0,i=this.length;r<i;r++)t.push(n.apply(DOMAssistant.$$(this[r]),arguments));return t}},cleanUp:function(e){var t=e.all||e.getElementsByTagName("*");for(var n=0,r;r=t[n++];)r.hasData&&r.hasData()&&(r.removeEvent&&r.removeEvent(),r.unstore());e.innerHTML=""},setCache:function(e){f=e},$:function(){var t=arguments[0];if(arguments.length!==1||typeof t!="object"&&(typeof t!="function"||!t.nodeName)){var n=t?new e:null;for(var r=0,i,s;i=arguments[r];r++)if(typeof i=="string"){i=i.replace(/^[^#\(]*(#)/,"$1");if(h.id.test(i))(s=DOMAssistant.$$(i.substr(1),!1))&&n.push(s);else{var o=(document.all||document.getElementsByTagName("*")).length;n=!document.querySelectorAll&&f&&a.rule&&a.rule===i&&a.doc===o?a.elms:m(n,DOMAssistant.cssSelection.call(document,i)),a={rule:i,elms:n,doc:o}}}return n}return DOMAssistant.$$(t)},$$:function(e,t){var n=typeof e=="object"||typeof e=="function"&&!!e.nodeName?e:document.getElementById(e),r=d(t)?t:!0,i=function(e){var t=e.id;return typeof t!="object"?t:e.attributes.id.nodeValue};if(typeof e=="string"&&n&&i(n)!==e){n=null;for(var s=0,o;o=document.all[s];s++)if(i(o)===e){n=o;break}}return n&&r&&!n.next&&DOMAssistant.addMethodsToElm(n),n},prev:function(){return DOMAssistant.$$(p(this,"previous"))},next:function(){return DOMAssistant.$$(p(this,"next"))},hasChild:function(e){return this===document||this!==e&&(this.contains?this.contains(e):!!(this.compareDocumentPosition(e)&16))},getSequence:function(e){var t,n=2,r=-1,i=-1,s=h.nth.exec(e.replace(/^0n\+/,"").replace(/^2n$/,"even").replace(/^2n+1$/,"odd"));if(!s)return null;if(s[2])t=s[2]==="odd"?1:2,i=t===1?1:0;else if(s[3])t=r=parseInt(s[3],10),n=0;else if(s[4]){n=s[6]?parseInt(s[6],10):1,t=s[7]?parseInt(s[7],10):0;while(t<1)t+=n;i=t>=n?(t-n)%n:t}else if(s[8]){n=s[10]?parseInt(s[10],10):1,t=r=parseInt(s[11],10);while(t>n)t-=n;i=r>=n?(r-n)%n:r}return{start:t,add:n,max:r,modVal:i}},cssByDOM:function(t){function P(e){e=e||O;for(var t=e.length;t--;)e[t].added=null,e[t].removeAttribute("added")}function H(){for(var e=n.length;e--;)n[e].childElms=null}function B(e,t){for(var n=0,r;r=e[n];n++){var i=!1;for(var s=0,o;o=t[s];s++)if(o===r){i=!0,t.splice(s,1);break}i&&e.splice(n--,1)}return e}function F(e,t){return i||h.special.test(t)?e[c[t.toLowerCase()]||t]:e.getAttribute(t,2)}function I(e,t){return e=e?e.replace(h.quoted,"$1").replace(/(\.|\[|\])/g,"\\$1"):null,{"^":"^"+e,$:e+"$","*":e,"|":"^"+e+"(\\-\\w+)*$","~":"\\b"+e+"\\b"}[t]||(e!==null?"^"+e+"$":e)}function q(e){return(e||this).tagName!=="!"}function R(e,t){return s?e==="*"?t.all:t.all.tags(e):t.getElementsByTagName(e)}function U(e,t){return e=e||"*",t=t||document,t===document||t.lastModified?u[e]||(u[e]=R(e,document)):R(e,t)}function z(e,t,r){function c(t){while(w=e[u++])q(w)&&l[t](w)&&(s[s.length]=w);return s}n=[];var i=t.split("-"),s=[],u=0,a=/\-of\-type$/.test(t),f,l={first:function(e){return!p(e,"previous",a)},last:function(e){return!p(e,"next",a)},empty:function(e){return!e.firstChild},enabled:function(e){return!e.disabled&&e.type!=="hidden"},disabled:function(e){return e.disabled},checked:function(e){return e.checked},contains:function(e){return(e.innerText||e.textContent||"").indexOf(r.replace(h.quoted,"$1"))>-1},other:function(e){return F(e,t)===r}},v=i[0]||null;if(v&&l[v])return c(v);switch(v){case"only":var m,g;while(w=e[u++]){E=w.parentNode;var y=w.nodeName;if(E!==m||y!==g)l.first(w)&&l.last(w)&&(s[s.length]=w),m=E,g=y}break;case"nth":if(r==="n")s=e;else{var L=i[1]==="last"?["lastChild","previousSibling"]:["firstChild","nextSibling"];C=DOMAssistant.getSequence(r);if(C){while(w=e[u++]){E=w.parentNode,E.childElms=E.childElms||{};var A=w.nodeName;if(!E.childElms[A]){var O=0;T=C.start,N=E[L[0]];while(N&&(C.max<0||T<=C.max)){var M=N.nodeName;(a&&M===A||!a&&N.nodeType===1&&M!=="!")&&++O===T&&(M===A&&(s[s.length]=N),T+=C.add),N=N[L[1]]}k&&o++,E.childElms[A]=!0,n[n.length]=E}}H()}}break;case"target":var _=document.location.hash.slice(1);if(_)while(w=e[u++])if(F(w,"name")===_||F(w,"id")===_){s[s.length]=w;break}break;case"not":if(f=h.pseudo.exec(r))s=B(e,z(e,f[1]?f[1].toLowerCase():null,f[3]||null));else{for(var D in h)h[D].lastIndex&&(h[D].lastIndex=0);r=r.replace(h.id,"[id=$1]");var P=h.tag.exec(r),j=h.classes.exec(r),R=h.attribs.exec(r),U=new RegExp(R?I(R[4],R[2]):"(^|\\s)"+(P?P[0]:j?j[1]:"")+"(\\s|$)","i");while(S=e[u++]){x=null;if(P&&!U.test(S.nodeName)||j&&!U.test(S.className))x=S;else if(R){var W=F(S,R[1]);if(!d(W)||W===!1||typeof W=="string"&&!U.test(W))x=S}x&&!x.added&&(x.added=!0,s[s.length]=x)}}break;default:return c("other")}return s}function W(e,t){var n=0,r=e,i;while(i=t[n++])(!r.length||r.indexOf(i)<0)&&e.push(i);return e}var n,r,a,f,l,g,y,w,E,S,x,T,N,C,k,L=new e,A=L.indexOf,O=[],M=[],_=t.replace(h.rules,",").split(","),D={};o=-1;for(var X=0,V=[];r=_[X];X++){if(!(a=r.match(h.selectorSplit))||X&&A.call(_.slice(0,X),r)>-1)continue;O=[this];for(var $=0,J;J=a[$];$++){M=[];if(f=h.relation.exec(J)){var K=null,Q=a[$+1];(l=h.tag.exec(Q))?(l=l[0],g=new RegExp("(^|\\s)"+l+"(\\s|$)","i")):h.id.test(Q)&&(K=DOMAssistant.$(Q)||null);for(var G=0,Y;Y=O[G];G++)switch(f[0]){case">":var Z=K||U(l,Y);for(var et=0,tt;tt=Z[et];et++)tt.parentNode===Y&&(M[M.length]=tt);break;case"+":if(Y=p(Y,"next"))if(K&&K[0]===Y||!K&&(!l||g.test(Y.nodeName)))M[M.length]=Y;break;case"~":while((Y=Y.nextSibling)&&!Y.added)if(K&&K[0]===Y||!K&&(!l||g.test(Y.nodeName)))Y.added=!0,M[M.length]=Y}O=M,P(),J=a[++$];if(/^\w+$/.test(J)||h.id.test(J))continue;O.skipTag=!0}var nt=h.selector.exec(J);D={tag:nt[1]?nt[1]:"*",id:nt[2],allClasses:nt[3],allAttr:nt[5],allPseudos:nt[10]},k=D.tag==="*";if(D.id){var rt=0,it=document.getElementById(D.id.slice(1));if(it){while(O[rt]&&!DOMAssistant.hasChild.call(O[rt],it))rt++;M=rt<O.length&&(k||D.tag===it.tagName.toLowerCase())?[it]:[]}O=M}else if(D.tag&&!O.skipTag)if($===0&&!M.length&&O.length===1)O=M=m([],U(D.tag,O[0]));else{for(var st=0,ot=O.length,ut,at;st<ot;st++){ut=U(D.tag,O[st]);for(var ft=0;at=ut[ft];ft++)at.added||(at.added=!0,M[M.length]=at)}O=M,P()}if(!M.length)break;O.skipTag=!1;if(D.allClasses){var lt=0,ct=[],ht=D.allClasses.split(".").slice(1);while(y=O[lt++]){var pt=!0,dt=y.className;if(dt&&dt.length){dt=dt.split(" ");for(var vt=ht.length;vt--;)if(dt.indexOf(ht[vt])<0){pt=!1;break}pt&&(ct[ct.length]=y)}}O=M=ct}if(D.allAttr){var mt,gt=0,yt=[],bt=[],wt=D.allAttr.match(h.attribs);for(var Et=/^\[(selected|readonly)(\s*=.+)?\]$/,St=0,xt=wt.length,Tt,Nt;St<xt;St++)h.attribs.lastIndex=0,Tt=h.attribs.exec(wt[St].replace(Et,"[$1]")),Nt=I(Tt[4],Tt[2]||null),yt[St]=[Nt?new RegExp(Nt):null,Tt[1]];while(y=M[gt++]){for(var Ct=0,kt=yt.length;Ct<kt;Ct++){var Lt=yt[Ct][0],At=F(y,yt[Ct][1]);mt=!0;if(!Lt&&At===!0)continue;if(!Lt&&(!At||typeof At!="string"||!At.length)||!!Lt&&!Lt.test(At)){mt=!1;break}}mt&&(bt[bt.length]=y)}O=M=bt}if(D.allPseudos){var Ot=D.allPseudos.match(h.pseudos);for(var Mt=0,_t=Ot.length;Mt<_t;Mt++){h.pseudos.lastIndex=0;var Dt=h.pseudos.exec(Ot[Mt]),Pt=Dt[1]?Dt[1].toLowerCase():null,Ht=Dt[3]||null;M=z(M,Pt,Ht),P(M)}O=M}}L=(V.length&&(k||A.call(V,D.tag)>=0||A.call(V,"*")>=0)?W:m)(L,O),V.push(D.tag),i&&k&&(L=L.filter(q))}return L.length>1&&_.length>1||o>0?v(L):L},cssByXpath:function(t){var n={xhtml:"http://www.w3.org/1999/xhtml"},r=document.documentElement.namespaceURI===n.xhtml?"xhtml:":"",i=function(t){return n[t]||null};return DOMAssistant.cssByXpath=function(t){function p(e){var t=e?"[":"",n=e?"]":"";return function(e,r,i,s,o){return o=(o||"").replace(h.quoted,"$1"),r===o&&r==="readonly"&&(s=null),t+({"^":"starts-with(@"+r+', "'+o+'")',$:"substring(@"+r+", (string-length(@"+r+") - "+(o.length-1)+"), "+o.length+') = "'+o+'"',"*":'contains(concat(" ", @'+r+', " "), "'+o+'")',"|":"@"+r+'="'+o+'" or starts-with(@'+r+', "'+o+'-")',"~":'contains(concat(" ", @'+r+', " "), " '+o+' ")'}[i]||"@"+r+(s?'="'+o+'"':""))+n}}function d(e,t,n){e=/\-child$/.test(t)?"*":e;var r=t.split("-"),i=(r[1]==="last"?"(count(following-sibling::":"(count(preceding-sibling::")+e+") + 1)",s,o;switch(r[0]){case"nth":return n!=="n"&&(f=DOMAssistant.getSequence(n))?f.start===f.max?i+" = "+f.start:i+" mod "+f.add+" = "+f.modVal+(f.start>1?" and "+i+" >= "+f.start:"")+(f.max>0?" and "+i+" <= "+f.max:""):"";case"not":return"not("+((s=h.pseudo.exec(n))?d(e,s[1]?s[1].toLowerCase():null,s[3]||null):n.replace(h.id,"[id=$1]").replace(h.tag,"self::$0").replace(h.classes,'contains(concat(" ", @class, " "), " $1 ")').replace(h.attribs,p()))+")";case"first":return"not(preceding-sibling::"+e+")";case"last":return"not(following-sibling::"+e+")";case"only":return"not(preceding-sibling::"+e+" or following-sibling::"+e+")";case"empty":return"not(child::*) and not(text())";case"contains":return'contains(., "'+n.replace(h.quoted,"$1")+'")';case"enabled":return'not(@disabled) and not(@type="hidden")';case"disabled":return"@disabled";case"target":return'@name="'+(o=document.location.hash.slice(1))+'" or @id="'+o+'"';default:return"@"+t+'="'+n+'"'}}var n,s,o,u,a,f,l=new e,c=t.replace(h.rules,",").split(",");for(var v=0;n=c[v];v++){if(!(s=n.match(h.selectorSplit))||v&&l.indexOf.call(c.slice(0,v),n)>-1)continue;o=o?o+" | .":".";for(var m=0,g=s.length;m<g;m++){u=h.selector.exec(s[m]),a={tag:r+(u[1]?u[1]:"*"),id:u[2],allClasses:u[3],allAttr:u[5],allPseudos:u[10],tagRelation:u[20]},o+=(a.tagRelation?{">":"/","+":"/following-sibling::*[1]/self::","~":"/following-sibling::"}[a.tagRelation]||"":m>0&&h.relation.test(s[m-1])?a.tag:"//"+a.tag)+(a.id||"").replace(h.id,'[@id = "$1"]')+(a.allClasses||"").replace(h.classes,'[contains(concat(" ", @class, " "), " $1 ")]')+(a.allAttr||"").replace(h.attribs,p(!0));if(a.allPseudos){var y=a.allPseudos.match(h.pseudos);for(var b=0,w=y.length;b<w;b++){h.pseudos.lastIndex=0;var E=h.pseudos.exec(y[b]),S=E[1]?E[1].toLowerCase():null,x=E[3]||null,T=d(a.tag,S,x);T.length&&(o+="["+T+"]")}}}}try{var N=document.evaluate(o,this,i,7,null),C,k=0;while(C=N.snapshotItem(k++))l.push(C)}catch(L){}return l},DOMAssistant.cssByXpath.call(this,t)},cssSelection:function(t){if(!t)return null;var n=h.special.test(t);try{if(document.querySelectorAll&&!n)return m(new e,this.querySelectorAll(t))}catch(r){}return(document.evaluate&&!n&&!/-of-type/.test(t)?DOMAssistant.cssByXpath:DOMAssistant.cssByDOM).call(this,t)},cssSelect:function(e){return DOMAssistant.cssSelection.call(this,e)},elmsByClass:function(e,t){var n=(t||"")+"."+e;return DOMAssistant.cssSelection.call(this,n)},elmsByAttribute:function(e,t,n,r){var i=(n||"")+"["+e+(t&&t!=="*"?(r||"")+"="+t+"]":"]");return DOMAssistant.cssSelection.call(this,i)},elmsByTag:function(e){return DOMAssistant.cssSelection.call(this,e)}}}();DOMAssistant.initCore(),DOMAssistant.Storage=function(){var e=1,t=[],n="_da"+ +(new Date);return{hasData:function(){var e=this[n];return!!e&&!!t[e]},retrieve:function(r){if(!DOMAssistant.def(r))return this[n]||(this[n]=e++);if(!this[n]||!t[this[n]])return;return t[this[n]][r]},store:function(r,i){var s=this[n]||(this[n]=e++);t[s]=t[s]||{};if(typeof r=="object")for(var o in r)typeof o=="string"&&(t[s][o]=r[o]);else t[s][r]=i;return this},unstore:function(r){var i=this[n]||(this[n]=e++);return t[i]&&(DOMAssistant.def(r)?delete t[i][r]:t[i]=null),this}}}(),DOMAssistant.attach(DOMAssistant.Storage),DOMAssistant.AJAX=function(){var globalXMLHttp=null,readyState=0,status=-1,statusText="",requestPool=[],createAjaxObj=function(e,t,n,r){var i=null;return/POST/i.test(t)&&(e=e.split("?"),i=e[1],e=e[0]),{url:e,method:t,callback:n,params:i,headers:{},responseType:"text",addToContent:r||!1}};return{publicMethods:["ajax","get","post","load"],initRequest:function(){var e=null;if(!!window.XMLHttpRequest&&!DOMAssistant.isIE)e=new XMLHttpRequest,DOMAssistant.AJAX.initRequest=function(){return requestPool.length?requestPool.pop():new XMLHttpRequest};else if(!!window.ActiveXObject){var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"];for(var n=0;n<t.length;n++)try{e=new window.ActiveXObject(t[n]),DOMAssistant.AJAX.initRequest=function(){return requestPool.length?requestPool.pop():new window.ActiveXObject(t[n])};break}catch(r){e=null}}return e},ajax:function(e){if(!e.noParse&&e.url&&/\?/.test(e.url)&&e.method&&/POST/i.test(e.method)){var t=e.url.split("?");e.url=t[0],e.params=t[1]+(t[1].length>0&&e.params?"&"+e.params:"")}return DOMAssistant.AJAX.makeCall.call(this,e)},get:function(e,t,n){return DOMAssistant.AJAX.makeCall.call(this,createAjaxObj(e,"GET",t,n))},post:function(e,t){return DOMAssistant.AJAX.makeCall.call(this,createAjaxObj(e,"POST",t))},load:function(e,t){this.get(e,DOMAssistant.AJAX.replaceWithAJAXContent,t)},makeCall:function(ajaxObj){var XMLHttp=DOMAssistant.AJAX.initRequest();return XMLHttp&&(globalXMLHttp=XMLHttp,function(elm){var url=ajaxObj.url,method=ajaxObj.method||"GET",callback=ajaxObj.callback,params=ajaxObj.params,headers=ajaxObj.headers,responseType=ajaxObj.responseType||"text",addToContent=ajaxObj.addToContent,timeout=ajaxObj.timeout||null,ex=ajaxObj.exception,timeoutId=null,done=!1;XMLHttp.open(method,url,!0),XMLHttp.setRequestHeader("AJAX","true"),XMLHttp.setRequestHeader("X-Requested-With","XMLHttpRequest"),method==="POST"&&(XMLHttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),XMLHttp.setRequestHeader("Content-length",params?params.length:0),XMLHttp.overrideMimeType&&XMLHttp.setRequestHeader("Connection","close")),responseType==="json"&&XMLHttp.setRequestHeader("Accept","application/json, text/javascript, */*");for(var i in headers)typeof i=="string"&&XMLHttp.setRequestHeader(i,headers[i]);typeof callback=="function"&&(XMLHttp.onreadystatechange=function(){try{if(XMLHttp.readyState===4&&!done){window.clearTimeout(timeoutId),done=!0,status=XMLHttp.status,statusText=XMLHttp.statusText,readyState=4;if((status||location.protocol!=="file:")&&(status<200||status>=300))throw new Error(statusText);var response=/xml/i.test(responseType)?XMLHttp.responseXML:XMLHttp.responseText;/json/i.test(responseType)&&!!response&&(response=typeof JSON=="object"&&typeof JSON.parse=="function"?JSON.parse(response):eval("("+response+")")),globalXMLHttp=null,XMLHttp.onreadystatechange=function(){},requestPool.push(XMLHttp),callback.call(elm,response,addToContent)}}catch(e){globalXMLHttp=XMLHttp=null,typeof ex=="function"&&(ex.call(elm,e),ex=null)}}),XMLHttp.send(params),timeout&&(timeoutId=window.setTimeout(function(){done||(XMLHttp.abort(),done=!0,typeof ex=="function"&&(readyState=0,status=408,statusText="Request timeout",globalXMLHttp=XMLHttp=null,ex.call(elm,new Error(statusText)),ex=null))},timeout))}(this)),this},replaceWithAJAXContent:function(e,t){t?this.innerHTML+=e:(DOMAssistant.cleanUp(this),this.innerHTML=e)},getReadyState:function(){return globalXMLHttp&&DOMAssistant.def(globalXMLHttp.readyState)?globalXMLHttp.readyState:readyState},getStatus:function(){return status},getStatusText:function(){return statusText}}}(),DOMAssistant.attach(DOMAssistant.AJAX),DOMAssistant.CSS=function(){var e=DOMAssistant.def,t={display:!0};return{addClass:function(e){if(!this.hasClass(e)){var t=this.className;this.className=t+(t.length?" ":"")+e}return this},removeClass:function(e){return this.replaceClass(e)},replaceClass:function(e,t){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","i");return this.className=this.className.replace(n,function(e,n,r){return t?n+t+r:" "}).replace(/^\s+|\s+$/g,""),this},hasClass:function(e){return(" "+this.className+" ").indexOf(" "+e+" ")>-1},setStyle:function(n,r){var i=this.style;"filters"in this&&(typeof n=="string"?/opacity/i.test(n):e(n.opacity))&&(i.zoom=1,i.filter=(i.filter||"").replace(/alpha\([^)]*\)/,"")+"alpha(opacity="+(e(n.opacity)?n.opacity:r)*100+")");if(e(i.cssText)){var s=i.cssText;if(typeof n=="object")for(var o in n)typeof o=="string"&&(t[o]&&(i[o]=n[o]),s+=";"+o+":"+n[o]);else t[n]&&(i[n]=r),s+=";"+n+":"+r;i.cssText=s}return this},getStyle:function(e){var t="",n;return e=e.toLowerCase(),document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(this,"").getPropertyValue(e):this.currentStyle&&("filters"in this&&e==="opacity"?t=(n=this.style.filter||this.currentStyle.filter)&&n.indexOf("opacity=")>=0?parseFloat(n.match(/opacity=([^)]*)/)[1])/100:1:(e=e.replace(/^float$/,"styleFloat").replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),t=this.currentStyle[e]),t==="auto"&&/^(width|height)$/.test(e)&&this.currentStyle.display!=="none"&&(t=this["offset"+e.charAt(0).toUpperCase()+e.substr(1)]+"px")),t}}}(),DOMAssistant.attach(DOMAssistant.CSS),DOMAssistant.Content=function(){var e=DOMAssistant.$$;return{init:function(){DOMAssistant.setCache(!1)},create:function(t,n,r,i){var s=e(document.createElement(t));return n&&(s=s.setAttributes(n)),DOMAssistant.def(i)&&s.addContent(i),r&&this.appendChild(s),s},setAttributes:function(t){if(DOMAssistant.isIE){var n=function(t,n,r){var i=n.toLowerCase();switch(i){case"name":case"type":case"multiple":return e(document.createElement(t.outerHTML.replace(new RegExp(i+"(=[a-zA-Z]+)?")," ").replace(">"," "+i+"="+r+">")));case"style":return t.style.cssText=r,t;default:return t[DOMAssistant.camel[i]||n]=r,t}};DOMAssistant.Content.setAttributes=function(e){var t=this,r=this.parentNode;for(var i in e)if(typeof e[i]=="string"||typeof e[i]=="number"){var s=n(t,i,e[i]);r&&/(name|type)/i.test(i)&&(t.innerHTML&&(s.innerHTML=t.innerHTML),r.replaceChild(s,t)),t=s}return t}}else DOMAssistant.Content.setAttributes=function(e){for(var t in e)/class/i.test(t)?this.className=e[t]:this.setAttribute(t,e[t]);return this};return DOMAssistant.Content.setAttributes.call(this,t)},addContent:function(e){var t=typeof e;if(t==="string"||t==="number")if(!this.firstChild)this.innerHTML=e;else{var n=document.createElement("div");n.innerHTML=e;for(var r=n.childNodes.length-1,i=null;r>=0;r--)i=this.insertBefore(n.childNodes[r],i)}else(t==="object"||t==="function"&&!!e.nodeName)&&this.appendChild(e);return this},replaceContent:function(e){return DOMAssistant.cleanUp(this),this.addContent(e)},replace:function(e,t){var n=typeof e;if(n==="string"||n==="number"){var r=this.parentNode,i=DOMAssistant.Content.create.call(r,"div",null,!1,e);for(var s=i.childNodes.length;s--;)r.insertBefore(i.childNodes[s],this.nextSibling);e=this.nextSibling,r.removeChild(this)}else(n==="object"||n==="function"&&!!e.nodeName)&&this.parentNode.replaceChild(e,this);return t?e:this},remove:function(){return DOMAssistant.cleanUp(this),this.hasData()&&(this.removeEvent&&this.removeEvent(),this.unstore()),this.parentNode.removeChild(this),null}}}(),DOMAssistant.attach(DOMAssistant.Content),DOMAssistant.Events=function(){var e,t="_events",n=!!document.addEventListener,r={focus:!0,blur:!0},i=DOMAssistant.isIE?{focus:"activate",blur:"deactivate",mouseenter:"mouseover",mouseleave:"mouseout"}:{mouseenter:"mouseover",mouseleave:"mouseout"},s={special:/^submit|reset|change|select$/i,mouseenterleave:/^mouse(enter|leave)$/i,dom:/^DOM/,on:/^on/i},o=function(e){return DOMAssistant.isIE&&s.special.test(e)},u=function(e){return i[e]||e},a=function(e,t,n){e=e||window.event||{};if(e.event)return e;var r={event:e,type:t||e.type,bubbles:e.bubbles||!0,cancelable:e.cancelable||!1,target:n||e.target||e.srcElement,clientX:e.clientX||0,clientY:e.clientY||0,altKey:e.altKey||!1,ctrlKey:e.ctrlKey||!1,shiftKey:e.shiftKey||!1,button:e.button||null,timeStamp:+(new Date),preventDefault:function(){e.preventDefault&&e.preventDefault(),this.returnValue=e.returnValue=!1},stopPropagation:function(){e.stopPropagation&&e.stopPropagation(),this.cancelBubble=e.cancelBubble=!0}};r.target&&3===r.target.nodeType&&(r.target=r.target.parentNode),r.currentTarget=r.target,r.relatedTarget=e.relatedTarget||(e.fromElement===r.target?e.toElement:e.fromElement)||null;var i=document.documentElement,s=document.body;return r.pageX=DOMAssistant.def(e.pageX)?e.pageX:r.clientX+(i.scrollLeft||s.scrollLeft)-(i.clientLeft||0),r.pageY=DOMAssistant.def(e.pageY)?e.pageY:r.clientY+(i.scrollTop||s.scrollTop)-(i.clientTop||0),"number"==typeof e.which?(r.keyCode=e.keyCode,r.charCode=r.which=e.which):e.keyCode&&(r.keyCode=r.charCode=e.keyCode),r};return{publicMethods:["triggerEvent","addEvent","removeEvent","relayEvent","unrelayEvent","preventDefault","cancelBubble"],init:function(){DOMAssistant.preventDefault=this.preventDefault,DOMAssistant.cancelBubble=this.cancelBubble,e=this.handleEvent},triggerEvent:function(e,n,r){var i=u(e),s=this.retrieve(t),o=r||a(r,i,n||this);o.currentTarget=this;if(s&&s[i])for(var f=0,l=s[i].length;f<l;f++)s[i][f].call(this,o)===!1&&o.stopPropagation();else typeof this["on"+i]=="function"&&this["on"+i].call(this,o);var c=DOMAssistant.$$(this.parentNode);return!o.cancelBubble&&c&&c.nodeType===1&&c.triggerEvent(i,n,o),this},addEvent:function(i,s,o,a,f){var l,h=u(i),p=h+this.retrieve(),v="on"+h;if(!s.attachedElements||!s.attachedElements[p]){var m=this.retrieve(t)||{};m[h]||(m[h]=[],l=this[v],this[v]=null),typeof this.window=="object"?this.window[v]=e:m[h].length||(n?this.addEventListener(h,e,r[h]):this[v]=e),l&&m[h].push(l),h!==i&&(s.evt=i),s.relay=o,s.proxy=a,s.selector=f,s.attachedElements=s.attachedElements||{},s.attachedElements[p]=!0,m[h].push(s),this.store(t,m)}return this},handleEvent:function(e){var r=e&&s.dom.test(e.type)&&n?e:a(e),i=u(r.type),o=r.target,l=r.relatedTarget,p=this.retrieve(t)[i].slice(0),v,m,y;if(v=p.length){for(var b=0;b<v;b++)if(typeof p[b]=="function"){if((y=p[b].evt)&&y!==i){r.type=y;if(l&&s.mouseenterleave.test(y))if(p[b].relay){var w=p[b].elms||(p[b].elms=this.cssSelect(p[b].selector));if(w.indexOf(o)<0||!DOMAssistant.hasChild.call(l,o))continue}else if(this===l||this.hasChild(l))continue}m=p[b].call(this,r)}return m===!1&&r.stopPropagation(),m}},removeEvent:function(i,o,a,l){var h=(i=u(i))+this.retrieve(),p=this.retrieve(t),v="on"+i;if(p&&!i){for(var m in p)p[m].length&&this.removeEvent(m);var y=this.attributes;for(var b,w=y.length;w--;)b=y[w].nodeName.toLowerCase(),s.on.test(b)&&typeof this[b]=="function"&&(this[b]=null)}else if(p&&p[i]){var E=p[i];for(var S,x=E.length;x--;)S=o||E[x],E[x]===S&&a===S.relay&&l===S.proxy&&(E.splice(x,1),!!l&&S.selector&&this.cssSelect(S.selector).removeEvent(l),S.attachedElements&&(S.attachedElements[h]=null));p[i].length||(n?this.removeEventListener(i,e,r[i]):this[v]=null)}else this[v]&&!o&&!a&&(this[v]=null);return this},relayEvent:function(e,t,n,r){return o(e)?(this.relayEvent("focus",t,function(){DOMAssistant.$$(this).removeEvent(e).addEvent(e,function(e){return n.call(this,a(e))})},e).relayEvent("blur",t,function(){DOMAssistant.$$(this).removeEvent(e)},e),this):this.addEvent(e,function(e){e=a(e);var r=e.target,i=arguments,s=0,o,u=this.cssSelect(t);while(o=u[s++])if((o===r||DOMAssistant.hasChild.call(o,r))&&!o.disabled){e.currentTarget=o;var f=n.apply(o,i);return f||e.preventDefault(),f}},!0,r,t)},unrelayEvent:function(e){return o(e)?this.removeEvent("focus",null,!0,e).removeEvent("blur",null,!0,e):this.removeEvent(e,null,!0)},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},cancelBubble:function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}}}(),DOMAssistant.attach(DOMAssistant.Events),DOMAssistant.DOMLoad=function(){var e=!1,t=null,n=[],r={},i=null,s=function(){for(var e=0,t=n.length;e<t;e++)try{n[e]()}catch(r){i&&typeof i=="function"&&i(r)}n=[]},o=function(){if(e)return;e=!0,s()};return document.addEventListener&&document.addEventListener("DOMContentLoaded",o,!1),/KHTML|WebKit|iCab/i.test(navigator.userAgent)&&(t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(o(),clearInterval(t))},10)),window.onload=o,{DOMReady:function(){for(var t=0,i=arguments.length,o;t<i;t++)o=arguments[t],!o.DOMReady&&!r[o]&&(typeof o=="string"&&(r[o]=!0,o=new Function(o)),o.DOMReady=!0,n.push(o));e&&s()},setErrorHandling:function(e){i=e}}}(),DOMAssistant.DOMReady=DOMAssistant.DOMLoad.DOMReady;