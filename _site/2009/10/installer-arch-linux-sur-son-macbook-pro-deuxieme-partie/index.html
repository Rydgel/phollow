<!doctype html>
<html class="no-js" lang="fr" dir="ltr" itemscope itemtype="http://schema.org/Article" xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml">
<head id="phollow-fr" data-template-set="html5-phollow-wordpress-theme" profile="http://purl.org/uF/hAtom/0.1/ http://purl.org/uF/2008/03/" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# phollow: http://ogp.me/ns/fb/phollow#">
  <meta charset="UTF-8">
  <title>Installer Arch Linux sur son Macbook Pro - Deuxième partie</title>
  <link href="https://plus.google.com/116513653525162928064" rel="publisher">
  <meta name="title" content="Installer Arch Linux sur son Macbook Pro - Deuxième partie">
  <meta name="author" content="Jérôme Mahuet">
  <meta name="Copyright" content="Copyright Jérôme Mahuet 2012. All Rights Reserved.">
  <meta name="google-site-verification" content="b3k5NRe5t9U-Pk1_CK_g5oN0U12YXuc55rUQWCHgbZY">
  <meta property="og:title" content="Installer Arch Linux sur son Macbook Pro - Deuxième partie">
  <meta property="og:type" content="phollow:post">
  <meta property="og:site_name" content="Phollow.me">
  <meta property="fb:admins" content="rydgel">
  <meta property="fb:app_id" content="101739241646">
  <meta itemprop="name" content="Installer Arch Linux sur son Macbook Pro - Deuxième partie">
  <meta http-equiv="cleartype" content="on">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="stylesheet" href="/css/compiled/global.css?v=10">
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="/atom.xml">
  <script src="/js/compiled/modernizr.min.js"></script>
  <script>
  WebFontConfig = {
    fontdeck: {
      id: '19429'
    }
  };

  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
    '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
  </script>
</head>
<body>
  <div class="container" role="wrapper">
    <header role="banner" id="header-site" class="sixteen columns">
      <h1 id="logo" class="four columns alpha">
        <a href="/" title="Phollow.me">Phollow.me</a>
      </h1>
      <nav id="nav-header" class="twelve columns omega">
        <ul>
          <li><a title="Phollow Archives" href="/archives/">Archives</a></li>
          <li><a target="_blank" title="about" href="http://jrm.li">Myself</a></li>
          <li><a target="_blank" title="@phollow" href="http://twitter.com/@phollow">Twitter</a></li>
          <li><a target="_blank" title="Phollow.fr RSS Feed" href="http://feeds2.feedburner.com/phollow/iuEO" target="_blank">RSS feed</a></li>
        </ul>
      </nav>
      <hr style="border-bottom: 1px solid rgba(0, 0, 0, 0.02);">
    </header>

<div id="container" class="sixteen columns">
  <article class="post">
      <header>
    <h2 class="entry-title entry-single"><a href="/2009/10/installer-arch-linux-sur-son-macbook-pro-deuxieme-partie">Installer Arch Linux sur son Macbook Pro - Deuxième partie</a></h2>
      </header>
      <div class="entry single-page ten columns offset-by-three alpha">
        <p style="text-align: justify;"><strong><a href="http://phollow.fr/2009/10/installer-arch-linux-sur-son-macbook-pro-premiere-partie/" target="_blank">Dans la première partie</a></strong> nous avons vu comment mettre en place un dual-boot avec <strong>rEFIT</strong>. Dans cette partie je parlerai essentiellement de l'installation d'<strong>Arch Linux</strong> sous le <strong>Macbook Pro unibody (5.5)</strong>. Je ne couvrirai pas une installation entière, le wiki étant parfait pour cela. Mais je parlerai des points qui concernent les Macbooks, comme l'activation du son ou du wifi..</p>
<p style="text-align: justify;"><a href="http://s3-eu-west-1.amazonaws.com/phollow/2009/10/8529_1219022445640_1531276027_30599512_4574408_n.jpg"><img class="aligncenter size-full wp-image-1583" title="8529_1219022445640_1531276027_30599512_4574408_n" src="http://s3-eu-west-1.amazonaws.com/phollow/2009/10/8529_1219022445640_1531276027_30599512_4574408_n.jpg" alt="8529_1219022445640_1531276027_30599512_4574408_n" width="604" height="452" /></a></p>
<p style="text-align: justify;">Donc vous devriez avoir à ce moment précis une installation minimale d'Arch Linux fonctionnelle. Avec le choix entre OS X et Arch Linux au démarrage du Macbook Pro.</p>

<h1 style="text-align: justify;">Modèle du clavier sous tty</h1>
<p style="text-align: justify;">Il n'y a pas de modèle pour mac par défaut sous Arch Linux. Pour y remédier, téléchargez <a href="http://s3-eu-west-1.amazonaws.com/phollow/2009/10/mac-fr-ext_new.map.gz">ce petit fichier</a> et placez le dans <em>/usr/share/kbd/keymaps/mac/all</em> . Ensuite dans le rc.conf :</p>

<pre lang="bash">KEYMAP="mac-fr-ext_new"
CONSOLEFONT="lat9w-16"</pre>
<h1>Installation du son</h1>
<p style="text-align: justify;">Le son ne fonctionnait pas du tout chez moi après l'installation normal d'alsa. En cherchant sur internet je suis tombé sur un forum d'<a href="http://ubuntuforums.org/showpost.php?p=7627817&amp;postcount=98" target="_blank">Ubuntu</a> qui indique qu'il faut utiliser les derniers drivers d'alsa unstable.</p>

<pre lang="bash">wget ftp://ftp.kernel.org/pub/linux/kernel/people/tiwai/snapshot/alsa-driver-unstable-snapshot.tar.gz
tar xf alsa-driver-unstable-snapshot.tar.gz
cd alsa-driver-unstable
sudo ./configure --enable-dynamic-minors  --without-oss --with-cards="hda-intel"
sudo make
sudo make install</pre>
<p style="text-align: justify;">Et pour les beaux gosses qui ont Arch Linux un beau PKGBUILD :</p>

<pre lang="bash">pkgname=alsa-snapshot
pkgver=1
pkgrel=1
pkgdesc="Alsa snapshot (rentre en conflit avec alsa du kernel)"
arch=(x86_64)
url="http://ubuntuforums.org/showpost.php?p=7627817&amp;postcount=98"
license=('GPL')
groups=()
depends=()
makedepends=()
provides=()
conflicts=()
replaces=()
backup=()
source=(ftp://ftp.kernel.org/pub/linux/kernel/people/tiwai/snapshot/alsa-driver-unstable-snapshot.tar.gz)
md5sums=('504b779d3dd9a2ec96b043ed83210d59')

build() {
  cd "$srcdir/alsa-driver-unstable"

  ./configure --prefix=/usr --enable-dynamic-minors --without-oss --with-cards="hda-intel"
  make || return 1
  make DESTDIR="$pkgdir/" install
}</pre>
<p style="text-align: justify;">Après l'installation, lancez un petit alsaconf pour initialiser votre carte son. Et ça devrait être bon. Néanmoins à l'heure actuelle le driver ne supporte pas totalement la carte. Je n'ai du son que d'un côté. Il est aussi possible que cette opération doit être recommencée à chaque mise à jour du kernel.</p>

<h1 style="text-align: justify;">Pommed</h1>
<p style="text-align: justify;">Ce démon s'occupe par exemple du rétro-éclairage de votre clavier et de la luminosité de l'écran. Le nom du paquet est <strong>pommed</strong>, rajoutez le démon dans le <em>rc.conf</em>.</p>

<h1 style="text-align: justify;">Wifi</h1>
<p style="text-align: justify;">La carte est une Broadcom et elle utilise le driver <strong>broadcom-wl</strong> disponible dans AUR. Installez le et ensuite dans le rc.conf :</p>

<pre lang="bash">MODULES=(lib80211_crypt_tkip wl !b43 !ssb)</pre>
<h1>iSight</h1>
<p style="text-align: justify;">La carte fonctionne après l'installation du firmware, via AUR :</p>

<pre lang="bash">yaourt -S isight-firmware-tools</pre>
<p style="text-align: justify;">Je n'ai pas rencontré d'autres problèmes pendant l'installation, le plus gros problème ayant été le son. Dans une troisième partie nous verrons la configuration du Mac dans un environnement de bureau, la gestion du clavier dans X, du touchpad et des touches multimédia :)</p>
      </div>
      <cite class="omega three columns entry-meta">
        <p>
          <time datetime="2009-10-10 23:37:45 +0200" pubdate class="updated">
            October 10, 2009</time>
            <br>
          <a href="/category/apple" rel="category tag">apple</a>, <a href="/category/linux" rel="category tag">linux</a>, <a href="/category/tutoriel" rel="category tag">tutoriel</a></p>
        </cite>
      <footer class="share">
      <a href="http://twitter.com/share" class="twitter-share-button" data-text="Installer Arch Linux sur son Macbook Pro - Deuxième partie" data-count="horizontal" data-via="phollow" data-lang="fr">Tweet</a>
      </footer>
    </article>
      <hr>
      <div id="disqus_thread"></div>
      <script>
          var disqus_shortname = 'phollowfr';
          var disqus_identifier = 'http://phollow.fr/2009/10/installer-arch-linux-sur-son-macbook-pro-deuxieme-partie/';
          var disqus_url = 'http://phollow.fr/2009/10/installer-arch-linux-sur-son-macbook-pro-deuxieme-partie/';

          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
</div>


<footer id="footer" role="contentinfo" class="sixteen columns">
  <nav role="navigation">
    <ul>
      <li><a href="/">Homepage</a></li>
      <li><a href="http://twitter.com/phollow">Twitter</a></li>
      <li><a href="https://www.facebook.com/Phollow.fr">Facebook</a></li>
      <li><a href="http://dribbble.com/phollow">Dribbble</a></li>
      <li><a href="mailto:rydgel@phollow.fr">Contact</a></li>
    </ul>
  </nav>
  <span class="copyright">Copyright © 2011 <a rel="author"
      href="https://plus.google.com/113221045987282389062?rel=author"
      title="Jérôme Mahuet">+Jérôme Mahuet</a> All Rights Reserved.
    Hosted by <a href="http://www.heroku.com/">Heroku.</a></span>
<a title="Phollow.me" class="footer-logo-link" href="http://phollow.fr"><img src="/images/phollow-logo-footer.png" alt="Phollow.me"></a>
</footer>

</div><!-- container -->
<script src="/js/compiled/global.js?v=3"></script>

<!--[if (lt IE 9) & (!IEMobile)]>
<script src="/js/compiled/DOMAssistantCompressed-2.8.js"></script>
<script src="/js/compiled/selectivizr-1.0.1.js"></script>
<script src="/js/compiled/respond.min.js"></script>
<![endif]-->

<script>
      (function(){
        var twitterWidgets = document.createElement('script');
        twitterWidgets.type = 'text/javascript';
        twitterWidgets.async = true;
        twitterWidgets.src = '//platform.twitter.com/widgets.js';
        document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
      })();
</script>

<script type="text/javascript">
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '4ec64821f5a1f55c33000003');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>
</body>
</html>

